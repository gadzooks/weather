/ Page Content

.container
  / Page Features
  .row
    %table.table.table-bordered.weather-forecast
      - forecasts = @forecast_summary.forecasts
      %thead
        %tr
          %th{scope: 'col', class: 'header-main'}
          - forecasts.each do |loc, detail|
            %th.center{scope: 'col', colspan: 4, class: 'header-main'}
              =loc.description.titleize
        %tr.header-secondary
          %td{scope: "col"} TIME
          - forecasts.size.times do
            %td{scope: "col", colspan: 2} DESC
            %td{scope: "col", class: 'fahrenheit'} HI/LOW
            %td{scope: "col"} PRECIP
      %tbody
      / current daily weather
      - @forecast_summary.daily_times.each do |time|
        %tr.weather-details
          %td{scope: :row, class: 'forecast-date'}
            =time.strftime('%a').upcase
            %span.date
              =time.strftime('%b %d').upcase
          - forecasts.each do |loc, detail|
            / FIXME move a lot of this to helper code
            - daily_ts = detail.daily(time)
            %td.precipitation
              %i{class: icon_class(daily_ts.icon, daily_ts.precipProbability)}
            %td{class: 'summary', title: daily_ts.summary}
              =daily_ts.icon.gsub(/-/,' ').titleize
            %td=daily_ts.temperatureHigh.round.to_s + '°/' +  daily_ts.temperatureLow.round.to_s + '°'
            %td
              =precipitation(daily_ts.precipProbability)

-#%a{:href => "https://www.freepik.com/free-photos-vectors/icon", class: 'freepik'} Icons by Freepik
